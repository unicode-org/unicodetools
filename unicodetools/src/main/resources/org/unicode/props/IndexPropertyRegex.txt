# =============================
# Regex Validity Patterns
# =============================
# These are for all String, Misc, and Numeric Properties
# The Catalog/Enum/Binary Properties are validated using the values in PropertyValueAliases.txt,
# and thus have null regular expression validity patterns.
#
# This file also indicates where any property is multivalued.
# =============================
# Format
# Field 1: property name
# Field 2: cardinality
#          SINGLE_VALUED: has only one value
#          MULTI_VALUED: has multiple values, arbitrary order
#          ORDERED: has multiple values, significant order
#          EXTENSIBLE: currently single valued, but could have multiple values in future versions
# Field 3: regex validity pattern
# If the line starts with $, then it is a variable definition of the form $variable = <expression>.
# Each regular expression validity pattern has all variables replaced before use.
# =============================

# Regex patterns from UAX #44

## Variables
$digit  =   [0-9]
$hexDigit   =   [A-F0-9]
$alphaNum   =   [a-zA-Z0-9]
$digits =   $digit+
$label  =   $alphaNum+
$positiveDecimal    =   $digits\.$digits
#$decimal    =   -?$positiveDecimal
$rational   =   -?$digits(/$digits)?
#$optionalDecimal    =   -?$digits(\.$digits)?
$name   =   $label(( -|- |[-_ ])$label)*
$name2  =   $label([-_ ]$label)*
$annotatedName  =   $name2( \(.*\))?
$shortName  =   [A-Z]{0,3}
$codePoint  =   (10|$hexDigit)?$hexDigit{4}
$codePoints =   $codePoint(\s$codePoint)*
$codePoint0 =   ($codePoints)?

## Main data
### Non-Unihan Normative, Informative, Contributory, and (Provisional) UCD properties
Bidi_Mirroring_Glyph ;        SINGLE_VALUED ;               $codePoint
Bidi_Paired_Bracket ;         SINGLE_VALUED ;               $codePoint
Block ;                       SINGLE_VALUED ;               $name2
Case_Folding ;                SINGLE_VALUED ;               $codePoints
Decomposition_Mapping ;       SINGLE_VALUED ;               $codePoints
Equivalent_Unified_Ideograph; SINGLE_VALUED ;               $codePoint
FC_NFKC_Closure ;             SINGLE_VALUED ;               $codePoints
ISO_Comment ;                 SINGLE_VALUED ;               $name
Jamo_Short_Name ;             SINGLE_VALUED ;               $shortName
Lowercase_Mapping ;           SINGLE_VALUED ;               $codePoints
Name ;                        SINGLE_VALUED ;               CJK UNIFIED IDEOGRAPH-#|CJK COMPATIBILITY IDEOGRAPH-#|EGYPTIAN HIEROGLYPH-#|TANGUT IDEOGRAPH-#|KHITAN SMALL SCRIPT CHARACTER-#|NUSHU CHARACTER-#|SEAL CHARACTER-#|JURCHEN CHARACTER-#|\$HANGUL_SYLLABLE\$|$name
Name_Alias ;                  MULTI_VALUED ;                $name
NFKC_Casefold ;               SINGLE_VALUED ;               $codePoint0
NFKC_Simple_Casefold ;        SINGLE_VALUED ;               $codePoint0
Numeric_Value ;               SINGLE_VALUED ;               NaN|$rational
Script ;                      SINGLE_VALUED ;               $name2
Script_Extensions ;           MULTI_VALUED ;                <enum>
Simple_Case_Folding ;         SINGLE_VALUED ;               $codePoints
Simple_Lowercase_Mapping ;    SINGLE_VALUED ;               $codePoint
Simple_Titlecase_Mapping ;    SINGLE_VALUED ;               $codePoint
Simple_Uppercase_Mapping ;    SINGLE_VALUED ;               $codePoint
Titlecase_Mapping ;           SINGLE_VALUED ;               $codePoints
Unicode_1_Name ;              SINGLE_VALUED ;               $annotatedName
Uppercase_Mapping ;           SINGLE_VALUED ;               $codePoints

### Non-UCD properties
Identifier_Status ;           SINGLE_VALUED ;                <enum>
Identifier_Type ;             MULTI_VALUED ;                 <enum>
Math_Class ;                  ORDERED ;                      <enum>

### Other UCD data
Arabic_Shaping_Schematic_Name ; SINGLE_VALUED ;             .*
CJK_Radical ;                 ORDERED ;                     [0-9]{1,3}'{0,3}
Do_Not_Emit_Dispreferred ;    MULTI_VALUED ;                .*
Do_Not_Emit_Dispreferred_Type ; MULTI_VALUED ;              <enum>
Do_Not_Emit_Preferred ;       MULTI_VALUED ;                .*
Emoji_DCM ;                   SINGLE_VALUED ;               [0-9A-F]{4}
Emoji_KDDI ;                  SINGLE_VALUED ;               [0-9A-F]{4}
Emoji_SB ;                    SINGLE_VALUED ;               [0-9A-F]{4}
emoji_variation_sequence ;    SINGLE_VALUED ;               text style|emoji style
Named_Sequences ;             SINGLE_VALUED ;               $name
Named_Sequences_Prov ;        SINGLE_VALUED ;               $name
Names_List_Alias  ;           SINGLE_VALUED ;               .*
Names_List_Comment ;          SINGLE_VALUED ;               .*
Names_List_Cross_Ref ;        SINGLE_VALUED ;               .*
Names_List_Subheader ;        MULTI_VALUED ;                .*
Names_List_Subheader_Notice ; MULTI_VALUED ;                .*
Non_Unihan_Numeric_Value ;    SINGLE_VALUED ;               NaN|$rational
normalization_correction_corrected ; SINGLE_VALUED ;        [0-9A-F]{4,5}
normalization_correction_original ;  SINGLE_VALUED ;        [0-9A-F]{4,5}
normalization_correction_version ;   SINGLE_VALUED ;        [0-9]\.[0-9]\.[0-9]
Standardized_Variant ;        MULTI_VALUED ;                 .*

### Other information
Confusable_MA ;               SINGLE_VALUED ;               $codePoints
Confusable_ML ;               SINGLE_VALUED ;               $codePoints
Confusable_SA ;               SINGLE_VALUED ;               $codePoints
Confusable_SL ;               SINGLE_VALUED ;               $codePoints
Idn_2008 ;                    SINGLE_VALUED ;               <enum>
Idn_Mapping ;                 SINGLE_VALUED ;               $codePoints
Idn_Status ;                  SINGLE_VALUED ;               <enum>
Math_Class_Ex ;               ORDERED ;                     <enum>
Math_Descriptive_Comments ;   MULTI_VALUED ;                .*
Math_Entity_Name ;            MULTI_VALUED ;                .*
Math_Entity_Set ;             MULTI_VALUED ;                .*

# Regex patterns from UAX 38 (Unihan)
kAccountingNumeric ;          SINGLE_VALUED ;                NaN|\d+
kAlternateTotalStrokes ;      MULTI_VALUED ;                 (\d+:[BGHJKMPSTUV]+)|-
kBigFive ;                    SINGLE_VALUED ;                [0-9A-F]{4}'?
kCangjie ;                    SINGLE_VALUED ;                [A-Z]+
kCantonese ;                  MULTI_VALUED ;                 [a-z]{1,6}[1-6]
kCCCII ;                      EXTENSIBLE ;                   [0-9A-F]{6}
kCheungBauer ;                EXTENSIBLE ;                   \d{3}\/\d{2};[A-Z]*;[a-z1-6\[\]\/,]+
kCheungBauerIndex ;           MULTI_VALUED ;                 \d{3}\.[01]\d
kCihaiT ;                     MULTI_VALUED ;                 [1-9]\d{0,3}\.\d{3}
kCNS1986 ;                    SINGLE_VALUED ;                [12E]-[0-9A-F]{4}
kCNS1992 ;                    SINGLE_VALUED ;                [1-9]-[0-9A-F]{4}
kCompatibilityVariant ;       SINGLE_VALUED ;                U\+[23]?[0-9A-F]{4}
kCowles ;                     MULTI_VALUED ;                 \d{1,4}(\.\d{1,2})?
kDaeJaweon ;                  SINGLE_VALUED ;                \d{4}\.\d{2}[01]
kDefinition ;                 SINGLE_VALUED ;                [^\t"]+
kEACC ;                       SINGLE_VALUED ;                [0-9A-F]{6}
kFanqie ;                     MULTI_VALUED ;                 [\x{3400}-\x{4DBF}\x{4E00}-\x{9FFF}\x{20000}-\x{2A6DF}]{2}
kFenn ;                       MULTI_VALUED ;                 \d+a?[A-KP*]
kFennIndex ;                  MULTI_VALUED ;                 \d{1,3}\.[01]\d
kFourCornerCode ;             MULTI_VALUED ;                 \d{4}(\.\d)?
kFrequency ;                  SINGLE_VALUED ;                [1-5]
kGB0 ;                        SINGLE_VALUED ;                \d{4}
kGB1 ;                        SINGLE_VALUED ;                \d{4}
kGB3 ;                        SINGLE_VALUED ;                \d{4}
kGB5 ;                        MULTI_VALUED ;                 \d{4}
kGB7 ;                        SINGLE_VALUED ;                \d{4}
kGB8 ;                        SINGLE_VALUED ;                \d{4}
kGradeLevel ;                 SINGLE_VALUED ;                [1-6]
kGSR ;                        MULTI_VALUED ;                 \d{4}[a-vx-z]\'?
kHangul ;                     MULTI_VALUED ;                 [\x{1100}-\x{1112}][\x{1161}-\x{1175}][\x{11A8}-\x{11C2}]?:[01ENX]{1,3}
kHanYu ;                      MULTI_VALUED ;                 [1-8]\d{4}\.[0-3]\d[0-3]
kHanyuPinlu ;                 MULTI_VALUED ;                 [a-z\x{300}-\x{302}\x{304}\x{308}\x{30C}]+\(\d+\)
kHanyuPinyin ;                MULTI_VALUED ;                 (\d{5}\.\d{2}0,)*\d{5}\.\d{2}0:([a-z\x{300}-\x{302}\x{304}\x{308}\x{30C}]+,)*[a-z\x{300}-\x{302}\x{304}\x{308}\x{30C}]+
kHDZRadBreak ;                SINGLE_VALUED ;                [\x{2F00}-\x{2FD5}]\[U\+2F[0-9A-D][0-9A-F]\]:[1-8]\d{4}\.[0-3]\d0
kHKGlyph ;                    MULTI_VALUED ;                 \d{4}
kHKSCS ;                      SINGLE_VALUED ;                [0-9A-F]{4}
kIBMJapan ;                   MULTI_VALUED ;                 F[ABC][0-9A-F]{2}
kIICore ;                     MULTI_VALUED ;                 [ABC][GHJKMPT]{1,7}
kIRGDaeJaweon ;               MULTI_VALUED ;                 \d{4}\.\d{2}[01]
kIRGDaiKanwaZiten ;           SINGLE_VALUED ;                \d{5}\'?
kIRGHanyuDaZidian ;           MULTI_VALUED ;                 [1-8]\d{4}\.[0-3]\d[01]
kIRGKangXi ;                  MULTI_VALUED ;                 [01]\d{3}\.[0-7]\d[01]
kIRG_GSource ;                SINGLE_VALUED ;                G[013578EKS]-[0-9A-F]{4}|G(CH|CY|DZ|GH|RM|WZ|XC|XH|ZH)-\d{4}\.\d{2}|GKX-\d{4}\.\d{2,3}|G(HZ|HZR)-\d{5}\.\d{2}|G(CE|FC|IDC23|OCD|XHZ)-\d{3}|G(H|HF|LGYJ|PGLG|T|ZHSJ)-\d{4}|G(4K|CESI|CYY|DM|GT|JZ|KJ|XM|WY|ZFY|ZJW|ZYS)-\d{5}|G(FZ|IDC)-[0-9A-F]{4}|GCA-[A-Z]\d{4}|GGFZ-\d{6}|G(BK|HC|LK|Z)-\d{7}|GU-[023][0-9A-F]{4}|GZA-[123467]\d{5}
kIRG_HSource ;                SINGLE_VALUED ;                H-[0-9A-F]{4}|H(B[012])-[0-9A-F]{4}|HD-[23]?[0-9A-F]{4}|HU-[023][0-9A-F]{4}
kIRG_JSource ;                SINGLE_VALUED ;                J[014]-[0-9A-F]{4}|J3A?-[0-9A-F]{4}|J13A?-[0-9A-F]{4}|J14-[0-9A-F]{4}|JA[34]?-[0-9A-F]{4}|JARIB-[0-9A-F]{4}|JH-(JT[ABC][0-9A-F]{3}S?|IB\d{4}|\d{6})|JK-\d{5}|JMJ-\d{6}
kIRG_KPSource ;               SINGLE_VALUED ;                KP([01]-[0-9A-F]{4}|U-[023][0-9A-F]{4})
kIRG_KSource ;                SINGLE_VALUED ;                K[0-6]-[0-9A-F]{4}|KC-\d{5}|KU-[023][0-9A-F]{4}
kIRG_MSource ;                SINGLE_VALUED ;                MA-[0-9A-F]{4}|MB[12]-[0-9A-F]{4}|MC-\d{5}|MDH?-[23]?[0-9A-F]{4}
kIRG_SSource ;                SINGLE_VALUED ;                SATM?-\d{5}
kIRG_TSource ;                SINGLE_VALUED ;                T([1-79A-F]|1[1-3])-[0-9A-F]{4}|TU-[023][0-9A-F]{4}
kIRG_UKSource ;               SINGLE_VALUED ;                UK-\d{5}
kIRG_USource ;                SINGLE_VALUED ;                UTC-\d{5}
kIRG_VSource ;                SINGLE_VALUED ;                V[0-4]-[0-9A-F]{4}|VN-[023F][0-9A-F]{4}
kJapanese ;                   MULTI_VALUED ;                 [\x{3041}-\x{3096}\x{3099}\x{309A}\x{30A1}-\x{30FA}\x{30FC}]+
kJapaneseKun ;                MULTI_VALUED ;                 [A-Z]+
kJapaneseOn ;                 MULTI_VALUED ;                 [A-Z]+
kJinmeiyoKanji ;              MULTI_VALUED ;                 (20\d{2})(:U\+[23]?[0-9A-F]{4})?
kJis0 ;                       MULTI_VALUED ;                 \d{4}
kJIS0213 ;                    MULTI_VALUED ;                 [12],\d{2},\d{1,2}
kJis1 ;                       MULTI_VALUED ;                 \d{4}
kJoyoKanji ;                  MULTI_VALUED ;                 (20\d{2})|(U\+[23]?[0-9A-F]{4})
kKangXi ;                     MULTI_VALUED ;                 \d{4}\.\d{2}[01]
kKarlgren ;                   MULTI_VALUED ;                 [1-9]\d{0,3}[A*]?
kKorean ;                     MULTI_VALUED ;                 [A-Z]+
kKoreanEducationHanja ;       MULTI_VALUED ;                 20\d{2}
kKoreanName ;                 MULTI_VALUED ;                 20\d{2}
kKPS0 ;                       SINGLE_VALUED ;                [0-9A-F]{4}
kKPS1 ;                       SINGLE_VALUED ;                [0-9A-F]{4}
kKSC0 ;                       SINGLE_VALUED ;                \d{4}
kKSC1 ;                       SINGLE_VALUED ;                \d{4}
kLau ;                        MULTI_VALUED ;                 [1-9]\d{0,3}
kMainlandTelegraph ;          MULTI_VALUED ;                 \d{4}
kMandarin ;                   ORDERED ;                      [a-z\x{300}-\x{302}\x{304}\x{308}\x{30C}]+
kMatthews ;                   MULTI_VALUED ;                 [1-9]\d{0,3}(a|\.5)?
kMeyerWempe ;                 MULTI_VALUED ;                 [1-9]\d{0,3}[a-t*]?
kMojiJoho ;                   MULTI_VALUED ;                 MJ\d{6}(:(FE0[01]|E01[01][0-9A-F]))?
kMorohashi ;                  MULTI_VALUED ;                 (\d{5}\'{0,2}|H\d{3})(:(FE0[01]|E010[0-9A-F]))?
kNelson ;                     MULTI_VALUED ;                 \d{4}
kOtherNumeric ;               MULTI_VALUED ;                 NaN|\d+
kPhonetic ;                   MULTI_VALUED ;                 [1-9]\d{0,3}[A-D]?\*?
kPrimaryNumeric ;             ORDERED ;                      NaN|\d+
kPseudoGB1 ;                  SINGLE_VALUED ;                \d{4}
kRSAdobe_Japan1_6 ;           MULTI_VALUED ;                 [CV]\+\d{1,5}\+[1-9]\d{0,2}\.[1-9]\d?\.\d{1,2}
kRSJapanese ;                 EXTENSIBLE ;                   [1-9]\d{0,2}\.\d{1,2}
kRSKangXi ;                   EXTENSIBLE ;                   [1-9]\d{0,2}\.\d{1,2}
kRSKanWa ;                    EXTENSIBLE ;                   [1-9]\d{0,2}\.\d{1,2}
kRSKorean ;                   EXTENSIBLE ;                   [1-9]\d{0,2}\.\d{1,2}
kRSTUnicode ;                 SINGLE_VALUED ;                \d+\.\d+
kRSUnicode ;                  ORDERED ;                      [1-9]\d{0,2}\'{0,3}\.-?\d{1,2}
kSBGY ;                       MULTI_VALUED ;                 \d{3}\.[0-7]\d
kSemanticVariant ;            MULTI_VALUED ;                 U\+[23]?[0-9A-F]{4}(<[ks][A-Za-z0-9_]+(:[TBZFJ]+)?(,[ks][A-Za-z0-9_]+(:[TBZFJ]+)?)*)?
kSimplifiedVariant ;          MULTI_VALUED ;                 U\+[23]?[0-9A-F]{4}
kSMSZD2003Index ;             MULTI_VALUED ;                 \d{1,3}\.\d{2}
kSMSZD2003Readings ;          MULTI_VALUED ;                 [a-z\x{300}\x{301}\x{302}\x{304}\x{308}\x{30C}]+(,[a-z\x{300}\x{301}\x{302}\x{304}\x{308}\x{30C}]+)*\x{7CB5}[a-z]+[1-6]([a-z]+[1-6])?(,[a-z]+[1-6]([a-z]+[1-6])?)*
kSpecializedSemanticVariant ; MULTI_VALUED ;                 U\+[23]?[0-9A-F]{4}(<[ks][A-Za-z0-9_]+(:[TBZFJ]+)?(,[ks][A-Za-z0-9_]+(:[TBZFJ]+)?)*)?
kSpoofingVariant ;            MULTI_VALUED ;                 U\+[23]?[0-9A-F]{4}
kStrange ;                    MULTI_VALUED ;                 [ACU]|B:U\+31[0-2AB][0-9A-F]|[MORY](:U\+[23]?[0-9A-F]{4})?|H(:U\+31[3-8][0-9A-F])+|I(:U\+[23]?[0-9A-F]{4})*|K(:U\+30[A-F][0-9A-F])+|S:[4-9]\d
kTaiwanTelegraph ;            MULTI_VALUED ;                 \d{4}
kTang ;                       MULTI_VALUED ;                 \*?[A-Za-z()\x{E6}\x{251}\x{259}\x{25B}\x{300}\x{30C}]+
kTayNumeric ;                 MULTI_VALUED ;                 NaN|\d+
kTGH ;                        MULTI_VALUED ;                 20\d{2}:[1-9]\d{0,3}
kTGHZ2013 ;                   MULTI_VALUED ;                 \d{3}\.\d{3}(,\d{3}\.\d{3})*:[a-z\x{300}-\x{302}\x{304}\x{308}\x{30C}]+
kTotalStrokes ;               ORDERED ;                      [1-9]\d{0,2}
kTraditionalVariant ;         MULTI_VALUED ;                 U\+[23]?[0-9A-F]{4}
kUnihanCore2020 ;             SINGLE_VALUED ;                [GHJKMPT]{1,7}
kVietnamese ;                 MULTI_VALUED ;                 [A-Za-z\x{110}\x{111}\x{300}-\x{303}\x{306}\x{309}\x{31B}\x{323}]+
kVietnameseNumeric ;          MULTI_VALUED ;                 NaN|\d+
kXerox ;                      MULTI_VALUED ;                 \d{3}:\d{3}
kXHC1983 ;                    MULTI_VALUED ;                 \d{4}\.\d{3}\*?(,\d{4}\.\d{3}\*?)*:[a-z\x{300}\x{301}\x{304}\x{308}\x{30C}]+
kZhuang ;                     MULTI_VALUED ;                 [a-z]+\*?
kZhuangNumeric ;              MULTI_VALUED ;                 NaN|\d+
kZVariant ;                   MULTI_VALUED ;                 U\+[23]?[0-9A-F]{4}(<[ks][A-Za-z0-9_]+(:[TBZ]+)?(,[ks][A-Za-z0-9_]+(:[TBZ]+)?)*)?

# Regex patterns from UAX #57 (Unikemet)
kEH_AltSeq ;                  SINGLE_VALUED ;               [0-9A-F]{5}(\s[0-9A-F]{4,5})*
kEH_Cat ;                     SINGLE_VALUED ;               ([A-IK-Z]|AA)-\d{2}-\d{3}
kEH_Desc ;                    SINGLE_VALUED ;               [^\t"]+
kEH_Func ;                    MULTI_VALUED ;                [^\t]+
kEH_FVal ;                    MULTI_VALUED ;                [BDF-HJKMNPR-TWY-bdf-hjkmnpr-twy\.,/\-\+=;?>&\(\)\{\}\s\x{303}\x{30C}\x{323}\x{32E}\x{331}\x{A722}\x{A723}\x{A724}\x{A725}\x{A7BC}\x{A7BD}]+
kEH_HG ;                      MULTI_VALUED ;                ([A-IK-Z]|AA)\d{1,3}[A-Za-z]{0,2}
kEH_IFAO ;                    MULTI_VALUED ;                \d{1,3},\d{1,2}[ab]?
kEH_JSesh ;                   MULTI_VALUED ;                ([A-IK-Z]|Aa|NL|NU|Ff)\d{1,3}[A-Za-z]{0,5}|(US1|US22|US248|US685)([A-IK-Z]|Aa|NL|NU)\d{1,3}[A-Za-z]{0,5}
kEH_UniK ;                    SINGLE_VALUED ;               ([A-IK-Z]|AA|NL|NU)\d{3}[A-Z]{0,2}|HJ ([A-IK-Z]|AA)\d{3}[A-Z]{0,2}

# Regex patterns from UAX #58 (Link Detection)
Link_Bracket;                 SINGLE_VALUED ;               $codePoint

# Regex patterns from UAX #60 (Non Han Ideographic Scripts)
## Jurchen
kJURC_NCReading ;             SINGLE_VALUED ;                [^\t"]+
kJURC_Numeric ;               SINGLE_VALUED ;                [1-9]\d{0,4}
kJURC_RSUnicode ;             SINGLE_VALUED ;                [1-9]\d{0,1}\.[1-9]\d{0,1}
kJURC_Src ;                   SINGLE_VALUED ;                NC:\d{3}\.\d{2}(,\d{3}\.\d{2})?|SJ-B\:\d{3}[A-Z]\.\d|JJ\:\d{3}|N5131\:X-\d{4}
## NÃ¼shu
kNSHU_DubenSrc ;              SINGLE_VALUED ;                [1-9]\d\.\d{2}
kNSHU_Reading ;               SINGLE_VALUED ;                [a-z]+[1-9]\d{0,1}
## Tangut
kTGT_MergedSrc ;              SINGLE_VALUED ;                H2004-[AB]-\d{4}|H2021-\d{6}|L(19(86|97)|20(06|12))-\d{4}|L2008-\d{4}([AB]|-\d{4})?|N1966-\d{3}-\d{2}[0-9A-Z]{1,2}|N5217-\d{2}|N5314-\d{2}|S1968-\d{4}|UTN42-\d{3}
kTGT_Numeric ;                SINGLE_VALUED ;                NaN|$digit+|$positiveDecimal
## Seal
kSEAL_CCZSrc ;                SINGLE_VALUED ;                C-\d{5}
kSEAL_DYCSrc ;                SINGLE_VALUED ;                D-\d{5}
kSEAL_MCJK ;                  MULTI_VALUED ;                 [0-9A-F]{4,5}
kSEAL_QJZSrc ;                SINGLE_VALUED ;                K-\d{5}
kSEAL_Rad ;                   MULTI_VALUED ;                 \d{1,3}\.[A-F0-9]{4,5}
kSEAL_THXSrc ;                SINGLE_VALUED ;                TH-\d{5}|TH-(X|Y)\d{3}|KD-[0-9A-F]{5}
